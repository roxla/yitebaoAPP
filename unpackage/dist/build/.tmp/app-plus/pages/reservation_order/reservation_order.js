(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/reservation_order/reservation_order"],{"63e4":function(e,t,r){"use strict";r.r(t);var n=r("aea0"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,function(){return n[e]})}(o);t["default"]=a.a},a6b5:function(e,t,r){"use strict";r.r(t);var n=r("c636"),a=r("63e4");for(var o in a)"default"!==o&&function(e){r.d(t,e,function(){return a[e]})}(o);r("d9d3");var s=r("2877"),i=Object(s["a"])(a["default"],n["a"],n["b"],!1,null,"cead581c",null);t["default"]=i.exports},aea0:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(){return r.e("components/mx-datepicker/mx-datepicker").then(r.bind(null,"6754"))},a=function(){return r.e("components/uni-segmented-control/uni-segmented-control").then(r.bind(null,"dd25"))},o=function(){return r.e("components/popup-layer/popup-layer").then(r.bind(null,"2854"))},s=function(){return r.e("node-modules/@dcloudio/uni-ui/lib/uni-icon/uni-icon").then(r.bind(null,"6fba"))},i={components:{uniIcon:s,MxDatePicker:n,uniSegmentedControl:a,popupLayer:o},data:function(){return{items:["未处理","待收件","洗涤中","配送中","已完成","已取消"],current:0,showPicker:!1,rangetime:[],value:"",timeSearch:!1,dataList:[],test:"123",styleMargin:!0,makeIt:"",createDate:"",resAddress:"",resName:"",resTel:"",reserveNumber:"",shopName:"",shopTel:"",shopAdd:"",iCount:"",orderNo:"",orderState:"",laundry:!0}},onNavigationBarButtonTap:function(){e.switchTab({url:"../my/my"})},onPullDownRefresh:function(){this.getAllData(this.current),this.value="",this.rangetime=[],this.timeSearch=!1,this.$refs.popupRef.close(),e.stopPullDownRefresh()},onLoad:function(){var e=this.checkLogin("../reservation_order/reservation_order",1);e&&(this.$showLoading(),this.getAllData(0))},methods:{formatDate:function(e){var t=e.getFullYear(),r=e.getMonth()+1,n=e.getDate(),a=e.getHours(),o=e.getMinutes(),s=e.getSeconds();return r<10&&(r="0"+r),n<10&&(n="0"+n),a<10&&(a="0"+a),o<10&&(o="0"+o),s<10&&(s="0"+s),t+"-"+r+"-"+n+" "+a+":"+o+":"+s},onClickItem:function(e){this.current!==e&&(this.dataList=[],this.current=e,this.getAllData(e),this.value="",this.rangetime=[],this.timeSearch=!1)},getAllData:function(t,r,n){var a=this;r||(r=""),n||(n=""),e.request({url:this.apiServer+"orderServer/cunOrderServer/getReserve",method:"POST",data:{OpenId:e.getStorageSync("openid"),reserveState:t,start:r,end:n},header:{"content-Type":"application/x-www-form-urlencoded"},success:function(t){if(200===t.data.status){for(var r=t.data.data,n=0;n<r.length;n++){var o=a.formatDate(new Date(r[n].createDate));r[n].createDate=o}a.dataList=r}else e.showToast({title:t.data.msg,duration:2e3,icon:"none"})},fail:function(){a.reconnect("../reservation_order/reservation_order",1)},complete:function(){a.$hideLoading()}})},onShowDatePicker:function(e){this.showPicker=!0,this.value=this.rangetime},onSelected:function(e){this.showPicker=!1,e&&(this.rangetime=e.value,this.getAllData(this.current,e.value[0],e.value[1]),this.timeSearch=!0)},getInfo:function(t){var r=this;e.request({url:this.apiServer+"orderServer/cunOrderServer/getReserveDetails",method:"POST",data:{OpenId:e.getStorageSync("openid"),reserveNo:t.reserveNumber},header:{"content-Type":"application/x-www-form-urlencoded"},success:function(t){if(200===t.data.status){var n=t.data.data;switch(console.log(n," at pages\\reservation_order\\reservation_order.vue:368"),n.orderNo||(n.orderNo="无"),n.orderState){case 0:r.orderState="未处理";break;case 1:r.orderState="待收件";break;case 2:r.orderState="洗涤中";break;case 3:r.orderState="配送中";break;case 4:r.orderState="已完成";break;case 5:r.orderState="已取消";break;default:console.log("error"," at pages\\reservation_order\\reservation_order.vue:392");break}r.makeIt=n.makeIt,r.createDate=r.formatDate(new Date(n.createDate)),r.reserveNumber=n.reserveNumber,r.resAddress=n.resAddress,r.resName=n.resName,r.resTel=n.resTel,r.shopName=n.shopName,r.shopTel=n.shopTel,r.shopAdd=n.shopAdd,r.iCount=n.iCount,r.orderNo=n.orderNo}else e.showToast({title:t.data.msg,duration:2e3,icon:"none"})}}),this.$refs.popupRef.show()},close:function(e){this.$refs.popupRef.close()},goRoute:function(t,r){"无"!=r&&(this.$refs.popupRef.close(),e.navigateTo({url:t+"?No="+r}))}}};t.default=i}).call(this,r("6e42")["default"])},c4fd:function(e,t,r){},c636:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c},a=[];r.d(t,"a",function(){return n}),r.d(t,"b",function(){return a})},d9d3:function(e,t,r){"use strict";var n=r("c4fd"),a=r.n(n);a.a}},[["9e7a","common/runtime","common/vendor"]]]);